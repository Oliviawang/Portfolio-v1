(function($){var methods={init:function(options){if(this.length){var settings={start:1,speed:300,easing:"easeOutExpo"};
return this.each(function(){if(options){$.extend(settings,options)
}var $el=$(this),$thumbs=$el.find("div.thumbs"),$images=$thumbs.children("img"),totalImages=$images.length,imagesW=$images.width();
$('<div class="thumbs-nav"><span class="thumbs-nav-prev">Previous</span><span class="thumbs-nav-next">Next</span></div>').insertAfter($thumbs);
var $navNext=$el.find("span.thumbs-nav-next"),$navPrev=$el.find("span.thumbs-nav-prev"),current=settings.start;
if(totalImages<=1||current<1){current=1
}$el.data("currentImage",current);
if(totalImages>1&&current<totalImages){$navNext.show()
}if(totalImages>1&&current>1){$navPrev.show()
}$el.css("width",imagesW+"px");
$thumbs.css("width",imagesW*totalImages+"px");
$thumbs.css("margin-left",-(current-1)*imagesW+"px");
$navNext.bind("click.gpCarousel",function(e){if($thumbs.is(":animated")||current===totalImages){return false
}if(current===totalImages-1){$navNext.hide()
}$navPrev.show();
$thumbs.stop().animate({marginLeft:-current*imagesW+"px"},settings.speed,settings.easing,function(){++current;
$el.data("currentImage",current)
})
});
$navPrev.bind("click.gpCarousel",function(e){if($thumbs.is(":animated")||current===1){return false
}if(current===2){$navPrev.hide()
}$navNext.show();
$thumbs.stop().animate({marginLeft:-(current-2)*imagesW+"px"},settings.speed,settings.easing,function(){--current;
$el.data("currentImage",current)
})
})
})
}}};
$.fn.gpCarousel=function(method){if(methods[method]){return methods[method].apply(this,Array.prototype.slice.call(arguments,1))
}else{if(typeof method==="object"||!method){return methods.init.apply(this,arguments)
}else{$.error("Method "+method+" does not exist on jQuery.gpCarousel")
}}}
})(jQuery);
/*! Copyright (c) 2010 Brandon Aaron (http://brandonaaron.net)
 * Licensed under the MIT License (LICENSE.txt).
 *
 * Thanks to: http://adomas.org/javascript-mouse-wheel/ for some pointers.
 * Thanks to: Mathias Bank(http://www.mathias-bank.de) for a scope bug fix.
 * Thanks to: Seamus Leahy for adding deltaX and deltaY
 *
 * Version: 3.0.4
 *
 * Requires: 1.2.2+
 */
(function($){var types=["DOMMouseScroll","mousewheel"];
$.event.special.mousewheel={setup:function(){if(this.addEventListener){for(var i=types.length;
i;
){this.addEventListener(types[--i],handler,false)
}}else{this.onmousewheel=handler
}},teardown:function(){if(this.removeEventListener){for(var i=types.length;
i;
){this.removeEventListener(types[--i],handler,false)
}}else{this.onmousewheel=null
}}};
$.fn.extend({mousewheel:function(fn){return fn?this.bind("mousewheel",fn):this.trigger("mousewheel")
},unmousewheel:function(fn){return this.unbind("mousewheel",fn)
}});
function handler(event){var orgEvent=event||window.event,args=[].slice.call(arguments,1),delta=0,returnValue=true,deltaX=0,deltaY=0;
event=$.event.fix(orgEvent);
event.type="mousewheel";
if(event.wheelDelta){delta=event.wheelDelta/120
}if(event.detail){delta=-event.detail/3
}deltaY=delta;
if(orgEvent.axis!==undefined&&orgEvent.axis===orgEvent.HORIZONTAL_AXIS){deltaY=0;
deltaX=-1*delta
}if(orgEvent.wheelDeltaY!==undefined){deltaY=orgEvent.wheelDeltaY/120
}if(orgEvent.wheelDeltaX!==undefined){deltaX=-1*orgEvent.wheelDeltaX/120
}args.unshift(event,delta,deltaX,deltaY);
return $.event.handle.apply(this,args)
}})(jQuery);
(function($){var supportedCSS,styles=document.getElementsByTagName("head")[0].style,toCheck="transformProperty WebkitTransform OTransform msTransform MozTransform".split(" ");
for(var a=0;
a<toCheck.length;
a++){if(styles[toCheck[a]]!==undefined){supportedCSS=toCheck[a]
}}var IE=eval('"v"=="\v"');
jQuery.fn.extend({ImageRotate:function(parameters){if(this.Wilq32&&this.Wilq32.PhotoEffect){return
}var paramClone=$.extend(true,{},parameters);
return(new Wilq32.PhotoEffect(this.get(0),paramClone))._rootObj
},rotate:function(parameters){if(this.length===0||typeof parameters=="undefined"){return
}if(typeof parameters=="number"){parameters={angle:parameters}
}var returned=[];
for(var i=0,i0=this.length;
i<i0;
i++){var element=this.get(i);
if(typeof element.Wilq32=="undefined"){returned.push($($(element).ImageRotate(parameters)))
}else{element.Wilq32.PhotoEffect._handleRotation(parameters)
}}return returned
}});
Wilq32=window.Wilq32||{};
Wilq32.PhotoEffect=(function(){if(supportedCSS){return function(img,parameters){img.Wilq32={PhotoEffect:this};
this._img=this._rootObj=this._eventObj=img;
this._handleRotation(parameters)
}}else{return function(img,parameters){this._img=img;
this._rootObj=document.createElement("span");
this._rootObj.style.display="inline-block";
this._rootObj.Wilq32={PhotoEffect:this};
img.parentNode.insertBefore(this._rootObj,img);
if(img.complete){this._Loader(parameters)
}else{var self=this;
jQuery(this._img).bind("load",function(){self._Loader(parameters)
})
}}
}})();
Wilq32.PhotoEffect.prototype={_setupParameters:function(parameters){this._parameters=this._parameters||{};
if(typeof this._angle!=="number"){this._angle=0
}if(typeof parameters.angle==="number"){this._angle=parameters.angle
}this._parameters.animateTo=(typeof parameters.animateTo==="number")?(parameters.animateTo):(this._angle);
this._parameters.easing=parameters.easing||this._parameters.easing||function(x,t,b,c,d){return -c*((t=t/d-1)*t*t*t-1)+b
};
this._parameters.duration=parameters.duration||this._parameters.duration||1000;
this._parameters.callback=parameters.callback||this._parameters.callback||function(){};
if(parameters.bind&&parameters.bind!=this._parameters.bind){this._BindEvents(parameters.bind)
}},_handleRotation:function(parameters){this._setupParameters(parameters);
if(this._angle==this._parameters.animateTo){this._rotate(this._angle)
}else{this._animateStart()
}},_BindEvents:function(events){if(events&&this._eventObj){if(this._parameters.bind){var oldEvents=this._parameters.bind;
for(var a in oldEvents){if(oldEvents.hasOwnProperty(a)){jQuery(this._eventObj).unbind(a,oldEvents[a])
}}}this._parameters.bind=events;
for(var a in events){if(events.hasOwnProperty(a)){jQuery(this._eventObj).bind(a,events[a])
}}}},_Loader:(function(){if(IE){return function(parameters){var width=this._img.width;
var height=this._img.height;
this._img.parentNode.removeChild(this._img);
this._vimage=this.createVMLNode("image");
this._vimage.src=this._img.src;
this._vimage.style.height=height+"px";
this._vimage.style.width=width+"px";
this._vimage.style.position="absolute";
this._vimage.style.top="0px";
this._vimage.style.left="0px";
this._container=this.createVMLNode("group");
this._container.style.width=width;
this._container.style.height=height;
this._container.style.position="absolute";
this._container.setAttribute("coordsize",width-1+","+(height-1));
this._container.appendChild(this._vimage);
this._rootObj.appendChild(this._container);
this._rootObj.style.position="relative";
this._rootObj.style.width=width+"px";
this._rootObj.style.height=height+"px";
this._rootObj.setAttribute("id",this._img.getAttribute("id"));
this._rootObj.className=this._img.className;
this._eventObj=this._rootObj;
this._handleRotation(parameters)
}}else{return function(parameters){this._rootObj.setAttribute("id",this._img.getAttribute("id"));
this._rootObj.className=this._img.className;
this._width=this._img.width;
this._height=this._img.height;
this._widthHalf=this._width/2;
this._heightHalf=this._height/2;
var _widthMax=Math.sqrt((this._height)*(this._height)+(this._width)*(this._width));
this._widthAdd=_widthMax-this._width;
this._heightAdd=_widthMax-this._height;
this._widthAddHalf=this._widthAdd/2;
this._heightAddHalf=this._heightAdd/2;
this._img.parentNode.removeChild(this._img);
this._aspectW=((parseInt(this._img.style.width,10))||this._width)/this._img.width;
this._aspectH=((parseInt(this._img.style.height,10))||this._height)/this._img.height;
this._canvas=document.createElement("canvas");
this._canvas.setAttribute("width",this._width);
this._canvas.style.position="relative";
this._canvas.style.left=-this._widthAddHalf+"px";
this._canvas.style.top=-this._heightAddHalf+"px";
this._canvas.Wilq32=this._rootObj.Wilq32;
this._rootObj.appendChild(this._canvas);
this._rootObj.style.width=this._width+"px";
this._rootObj.style.height=this._height+"px";
this._eventObj=this._canvas;
this._cnv=this._canvas.getContext("2d");
this._handleRotation(parameters)
}}})(),_animateStart:function(){if(this._timer){clearTimeout(this._timer)
}this._animateStartTime=+new Date;
this._animateStartAngle=this._angle;
this._animate()
},_animate:function(){var actualTime=+new Date;
var checkEnd=actualTime-this._animateStartTime>this._parameters.duration;
if(checkEnd&&!this._parameters.animatedGif){clearTimeout(this._timer)
}else{if(this._canvas||this._vimage||this._img){var angle=this._parameters.easing(0,actualTime-this._animateStartTime,this._animateStartAngle,this._parameters.animateTo-this._animateStartAngle,this._parameters.duration);
this._rotate((~~(angle*10))/10)
}var self=this;
this._timer=setTimeout(function(){self._animate.call(self)
},10)
}if(this._parameters.callback&&checkEnd){this._angle=this._parameters.animateTo;
this._rotate(this._angle);
this._parameters.callback.call(this._rootObj)
}},_rotate:(function(){var rad=Math.PI/180;
if(IE){return function(angle){this._angle=angle;
this._container.style.rotation=(angle%360)+"deg"
}}else{if(supportedCSS){return function(angle){this._angle=angle;
this._img.style[supportedCSS]="rotate("+(angle%360)+"deg)"
}}else{return function(angle){this._angle=angle;
angle=(angle%360)*rad;
this._canvas.width=this._width+this._widthAdd;
this._canvas.height=this._height+this._heightAdd;
this._cnv.translate(this._widthAddHalf,this._heightAddHalf);
this._cnv.translate(this._widthHalf,this._heightHalf);
this._cnv.rotate(angle);
this._cnv.translate(-this._widthHalf,-this._heightHalf);
this._cnv.scale(this._aspectW,this._aspectH);
this._cnv.drawImage(this._img,0,0)
}}}})()};
if(IE){Wilq32.PhotoEffect.prototype.createVMLNode=(function(){document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");
try{!document.namespaces.rvml&&document.namespaces.add("rvml","urn:schemas-microsoft-com:vml");
return function(tagName){return document.createElement("<rvml:"+tagName+' class="rvml">')
}}catch(e){return function(tagName){return document.createElement("<"+tagName+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')
}}})()
}})(jQuery);