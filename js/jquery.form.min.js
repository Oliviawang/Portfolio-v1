(function($){$.fn.ajaxSubmit=function(options){if(!this.length){log("ajaxSubmit: skipping submit process - no element selected");
return this
}if(typeof options=="function"){options={success:options}
}options=$.extend({url:this.attr("action")||window.location.toString(),type:this.attr("method")||"GET"},options||{});
var veto={};
this.trigger("form-pre-serialize",[this,options,veto]);
if(veto.veto){log("ajaxSubmit: submit vetoed via form-pre-serialize trigger");
return this
}var a=this.formToArray(options.semantic);
if(options.data){options.extraData=options.data;
for(var n in options.data){a.push({name:n,value:options.data[n]})
}}if(options.beforeSubmit&&options.beforeSubmit(a,this,options)===false){log("ajaxSubmit: submit aborted via beforeSubmit callback");
return this
}this.trigger("form-submit-validate",[a,this,options,veto]);
if(veto.veto){log("ajaxSubmit: submit vetoed via form-submit-validate trigger");
return this
}var q=$.param(a);
if(options.type.toUpperCase()=="GET"){options.url+=(options.url.indexOf("?")>=0?"&":"?")+q;
options.data=null
}else{options.data=q
}var $form=this,callbacks=[];
if(options.resetForm){callbacks.push(function(){$form.resetForm()
})
}if(options.clearForm){callbacks.push(function(){$form.clearForm()
})
}if(!options.dataType&&options.target){var oldSuccess=options.success||function(){};
callbacks.push(function(data){$(options.target).html(data).each(oldSuccess,arguments)
})
}else{if(options.success){callbacks.push(options.success)
}}options.success=function(data,status){for(var i=0,max=callbacks.length;
i<max;
i++){callbacks[i](data,status,$form)
}};
var files=$("input:file",this).fieldValue();
var found=false;
for(var j=0;
j<files.length;
j++){if(files[j]){found=true
}}if(options.iframe||found){if($.browser.safari&&options.closeKeepAlive){$.get(options.closeKeepAlive,fileUpload)
}else{fileUpload()
}}else{$.ajax(options)
}this.trigger("form-submit-notify",[this,options]);
return this;
function fileUpload(){var form=$form[0];
if($(":input[@name=submit]",form).length){alert('Error: Form elements must not be named "submit".');
return
}var opts=$.extend({},$.ajaxSettings,options);
var id="jqFormIO"+(new Date().getTime());
var $io=$('<iframe id="'+id+'" name="'+id+'" />');
var io=$io[0];
if($.browser.msie||$.browser.opera){io.src='javascript:false;document.write("");'
}$io.css({position:"absolute",top:"-1000px",left:"-1000px"});
var xhr={responseText:null,responseXML:null,status:0,statusText:"n/a",getAllResponseHeaders:function(){},getResponseHeader:function(){},setRequestHeader:function(){}};
var g=opts.global;
if(g&&!$.active++){$.event.trigger("ajaxStart")
}if(g){$.event.trigger("ajaxSend",[xhr,opts])
}var cbInvoked=0;
var timedOut=0;
var sub=form.clk;
if(sub){var n=sub.name;
if(n&&!sub.disabled){options.extraData=options.extraData||{};
options.extraData[n]=sub.value;
if(sub.type=="image"){options.extraData[name+".x"]=form.clk_x;
options.extraData[name+".y"]=form.clk_y
}}}setTimeout(function(){var t=$form.attr("target"),a=$form.attr("action");
$form.attr({target:id,encoding:"multipart/form-data",enctype:"multipart/form-data",method:"POST",action:opts.url});
if(opts.timeout){setTimeout(function(){timedOut=true;
cb()
},opts.timeout)
}var extraInputs=[];
try{if(options.extraData){for(var n in options.extraData){extraInputs.push($('<input type="hidden" name="'+n+'" value="'+options.extraData[n]+'" />').appendTo(form)[0])
}}$io.appendTo("body");
io.attachEvent?io.attachEvent("onload",cb):io.addEventListener("load",cb,false);
form.submit()
}finally{$form.attr("action",a);
t?$form.attr("target",t):$form.removeAttr("target");
$(extraInputs).remove()
}},10);
function cb(){if(cbInvoked++){return
}io.detachEvent?io.detachEvent("onload",cb):io.removeEventListener("load",cb,false);
var operaHack=0;
var ok=true;
try{if(timedOut){throw"timeout"
}var data,doc;
doc=io.contentWindow?io.contentWindow.document:io.contentDocument?io.contentDocument:io.document;
if(doc.body==null&&!operaHack&&$.browser.opera){operaHack=1;
cbInvoked--;
setTimeout(cb,100);
return
}xhr.responseText=doc.body?doc.body.innerHTML:null;
xhr.responseXML=doc.XMLDocument?doc.XMLDocument:doc;
xhr.getResponseHeader=function(header){var headers={"content-type":opts.dataType};
return headers[header]
};
if(opts.dataType=="json"||opts.dataType=="script"){var ta=doc.getElementsByTagName("textarea")[0];
xhr.responseText=ta?ta.value:xhr.responseText
}else{if(opts.dataType=="xml"&&!xhr.responseXML&&xhr.responseText!=null){xhr.responseXML=toXml(xhr.responseText)
}}data=$.httpData(xhr,opts.dataType)
}catch(e){ok=false;
$.handleError(opts,xhr,"error",e)
}if(ok){opts.success(data,"success");
if(g){$.event.trigger("ajaxSuccess",[xhr,opts])
}}if(g){$.event.trigger("ajaxComplete",[xhr,opts])
}if(g&&!--$.active){$.event.trigger("ajaxStop")
}if(opts.complete){opts.complete(xhr,ok?"success":"error")
}setTimeout(function(){$io.remove();
xhr.responseXML=null
},100)
}function toXml(s,doc){if(window.ActiveXObject){doc=new ActiveXObject("Microsoft.XMLDOM");
doc.async="false";
doc.loadXML(s)
}else{doc=(new DOMParser()).parseFromString(s,"text/xml")
}return(doc&&doc.documentElement&&doc.documentElement.tagName!="parsererror")?doc:null
}}};
$.fn.ajaxForm=function(options){return this.ajaxFormUnbind().bind("submit.form-plugin",function(){$(this).ajaxSubmit(options);
return false
}).each(function(){$(":submit,input:image",this).bind("click.form-plugin",function(e){var $form=this.form;
$form.clk=this;
if(this.type=="image"){if(e.offsetX!=undefined){$form.clk_x=e.offsetX;
$form.clk_y=e.offsetY
}else{if(typeof $.fn.offset=="function"){var offset=$(this).offset();
$form.clk_x=e.pageX-offset.left;
$form.clk_y=e.pageY-offset.top
}else{$form.clk_x=e.pageX-this.offsetLeft;
$form.clk_y=e.pageY-this.offsetTop
}}}setTimeout(function(){$form.clk=$form.clk_x=$form.clk_y=null
},10)
})
})
};
$.fn.ajaxFormUnbind=function(){this.unbind("submit.form-plugin");
return this.each(function(){$(":submit,input:image",this).unbind("click.form-plugin")
})
};
$.fn.formToArray=function(semantic){var a=[];
if(this.length==0){return a
}var form=this[0];
var els=semantic?form.getElementsByTagName("*"):form.elements;
if(!els){return a
}for(var i=0,max=els.length;
i<max;
i++){var el=els[i];
var n=el.name;
if(!n){continue
}if(semantic&&form.clk&&el.type=="image"){if(!el.disabled&&form.clk==el){a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})
}continue
}var v=$.fieldValue(el,true);
if(v&&v.constructor==Array){for(var j=0,jmax=v.length;
j<jmax;
j++){a.push({name:n,value:v[j]})
}}else{if(v!==null&&typeof v!="undefined"){a.push({name:n,value:v})
}}}if(!semantic&&form.clk){var inputs=form.getElementsByTagName("input");
for(var i=0,max=inputs.length;
i<max;
i++){var input=inputs[i];
var n=input.name;
if(n&&!input.disabled&&input.type=="image"&&form.clk==input){a.push({name:n+".x",value:form.clk_x},{name:n+".y",value:form.clk_y})
}}}return a
};
$.fn.formSerialize=function(semantic){return $.param(this.formToArray(semantic))
};
$.fn.fieldSerialize=function(successful){var a=[];
this.each(function(){var n=this.name;
if(!n){return
}var v=$.fieldValue(this,successful);
if(v&&v.constructor==Array){for(var i=0,max=v.length;
i<max;
i++){a.push({name:n,value:v[i]})
}}else{if(v!==null&&typeof v!="undefined"){a.push({name:this.name,value:v})
}}});
return $.param(a)
};
$.fn.fieldValue=function(successful){for(var val=[],i=0,max=this.length;
i<max;
i++){var el=this[i];
var v=$.fieldValue(el,successful);
if(v===null||typeof v=="undefined"||(v.constructor==Array&&!v.length)){continue
}v.constructor==Array?$.merge(val,v):val.push(v)
}return val
};
$.fieldValue=function(el,successful){var n=el.name,t=el.type,tag=el.tagName.toLowerCase();
if(typeof successful=="undefined"){successful=true
}if(successful&&(!n||el.disabled||t=="reset"||t=="button"||(t=="checkbox"||t=="radio")&&!el.checked||(t=="submit"||t=="image")&&el.form&&el.form.clk!=el||tag=="select"&&el.selectedIndex==-1)){return null
}if(tag=="select"){var index=el.selectedIndex;
if(index<0){return null
}var a=[],ops=el.options;
var one=(t=="select-one");
var max=(one?index+1:ops.length);
for(var i=(one?index:0);
i<max;
i++){var op=ops[i];
if(op.selected){var v=$.browser.msie&&!(op.attributes.value.specified)?op.text:op.value;
if(one){return v
}a.push(v)
}}return a
}return el.value
};
$.fn.clearForm=function(){return this.each(function(){$("input,select,textarea",this).clearFields()
})
};
$.fn.clearFields=$.fn.clearInputs=function(){return this.each(function(){var t=this.type,tag=this.tagName.toLowerCase();
if(t=="text"||t=="password"||tag=="textarea"){this.value=""
}else{if(t=="checkbox"||t=="radio"){this.checked=false
}else{if(tag=="select"){this.selectedIndex=-1
}}}})
};
$.fn.resetForm=function(){return this.each(function(){if(typeof this.reset=="function"||(typeof this.reset=="object"&&!this.reset.nodeType)){this.reset()
}})
};
$.fn.enable=function(b){if(b==undefined){b=true
}return this.each(function(){this.disabled=!b
})
};
$.fn.select=function(select){if(select==undefined){select=true
}return this.each(function(){var t=this.type;
if(t=="checkbox"||t=="radio"){this.checked=select
}else{if(this.tagName.toLowerCase()=="option"){var $sel=$(this).parent("select");
if(select&&$sel[0]&&$sel[0].type=="select-one"){$sel.find("option").select(false)
}this.selected=select
}}})
};
function log(){if($.fn.ajaxSubmit.debug&&window.console&&window.console.log){window.console.log("[jquery.form] "+Array.prototype.join.call(arguments,""))
}}})(jQuery);
jQuery.easing.jswing=jQuery.easing.swing;
jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)
},easeInQuad:function(x,t,b,c,d){return c*(t/=d)*t+b
},easeOutQuad:function(x,t,b,c,d){return -c*(t/=d)*(t-2)+b
},easeInOutQuad:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t+b
}return -c/2*((--t)*(t-2)-1)+b
},easeInCubic:function(x,t,b,c,d){return c*(t/=d)*t*t+b
},easeOutCubic:function(x,t,b,c,d){return c*((t=t/d-1)*t*t+1)+b
},easeInOutCubic:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t+b
}return c/2*((t-=2)*t*t+2)+b
},easeInQuart:function(x,t,b,c,d){return c*(t/=d)*t*t*t+b
},easeOutQuart:function(x,t,b,c,d){return -c*((t=t/d-1)*t*t*t-1)+b
},easeInOutQuart:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t*t+b
}return -c/2*((t-=2)*t*t*t-2)+b
},easeInQuint:function(x,t,b,c,d){return c*(t/=d)*t*t*t*t+b
},easeOutQuint:function(x,t,b,c,d){return c*((t=t/d-1)*t*t*t*t+1)+b
},easeInOutQuint:function(x,t,b,c,d){if((t/=d/2)<1){return c/2*t*t*t*t*t+b
}return c/2*((t-=2)*t*t*t*t+2)+b
},easeInSine:function(x,t,b,c,d){return -c*Math.cos(t/d*(Math.PI/2))+c+b
},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b
},easeInOutSine:function(x,t,b,c,d){return -c/2*(Math.cos(Math.PI*t/d)-1)+b
},easeInExpo:function(x,t,b,c,d){return(t==0)?b:c*Math.pow(2,10*(t/d-1))+b
},easeOutExpo:function(x,t,b,c,d){return(t==d)?b+c:c*(-Math.pow(2,-10*t/d)+1)+b
},easeInOutExpo:function(x,t,b,c,d){if(t==0){return b
}if(t==d){return b+c
}if((t/=d/2)<1){return c/2*Math.pow(2,10*(t-1))+b
}return c/2*(-Math.pow(2,-10*--t)+2)+b
},easeInCirc:function(x,t,b,c,d){return -c*(Math.sqrt(1-(t/=d)*t)-1)+b
},easeOutCirc:function(x,t,b,c,d){return c*Math.sqrt(1-(t=t/d-1)*t)+b
},easeInOutCirc:function(x,t,b,c,d){if((t/=d/2)<1){return -c/2*(Math.sqrt(1-t*t)-1)+b
}return c/2*(Math.sqrt(1-(t-=2)*t)+1)+b
},easeInElastic:function(x,t,b,c,d){var s=1.70158;
var p=0;
var a=c;
if(t==0){return b
}if((t/=d)==1){return b+c
}if(!p){p=d*0.3
}if(a<Math.abs(c)){a=c;
var s=p/4
}else{var s=p/(2*Math.PI)*Math.asin(c/a)
}return -(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b
},easeOutElastic:function(x,t,b,c,d){var s=1.70158;
var p=0;
var a=c;
if(t==0){return b
}if((t/=d)==1){return b+c
}if(!p){p=d*0.3
}if(a<Math.abs(c)){a=c;
var s=p/4
}else{var s=p/(2*Math.PI)*Math.asin(c/a)
}return a*Math.pow(2,-10*t)*Math.sin((t*d-s)*(2*Math.PI)/p)+c+b
},easeInOutElastic:function(x,t,b,c,d){var s=1.70158;
var p=0;
var a=c;
if(t==0){return b
}if((t/=d/2)==2){return b+c
}if(!p){p=d*(0.3*1.5)
}if(a<Math.abs(c)){a=c;
var s=p/4
}else{var s=p/(2*Math.PI)*Math.asin(c/a)
}if(t<1){return -0.5*(a*Math.pow(2,10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p))+b
}return a*Math.pow(2,-10*(t-=1))*Math.sin((t*d-s)*(2*Math.PI)/p)*0.5+c+b
},easeInBack:function(x,t,b,c,d,s){if(s==undefined){s=1.70158
}return c*(t/=d)*t*((s+1)*t-s)+b
},easeOutBack:function(x,t,b,c,d,s){if(s==undefined){s=1.70158
}return c*((t=t/d-1)*t*((s+1)*t+s)+1)+b
},easeInOutBack:function(x,t,b,c,d,s){if(s==undefined){s=1.70158
}if((t/=d/2)<1){return c/2*(t*t*(((s*=(1.525))+1)*t-s))+b
}return c/2*((t-=2)*t*(((s*=(1.525))+1)*t+s)+2)+b
},easeInBounce:function(x,t,b,c,d){return c-jQuery.easing.easeOutBounce(x,d-t,0,c,d)+b
},easeOutBounce:function(x,t,b,c,d){if((t/=d)<(1/2.75)){return c*(7.5625*t*t)+b
}else{if(t<(2/2.75)){return c*(7.5625*(t-=(1.5/2.75))*t+0.75)+b
}else{if(t<(2.5/2.75)){return c*(7.5625*(t-=(2.25/2.75))*t+0.9375)+b
}else{return c*(7.5625*(t-=(2.625/2.75))*t+0.984375)+b
}}}},easeInOutBounce:function(x,t,b,c,d){if(t<d/2){return jQuery.easing.easeInBounce(x,t*2,0,c,d)*0.5+b
}return jQuery.easing.easeOutBounce(x,t*2-d,0,c,d)*0.5+c*0.5+b
}});
function FG_CaptchaValidator(captcha_ip,captcha_img){this.captcha_ip=captcha_ip;
this.captcha_img=captcha_img;
this.validatedCode="";
this.validate=function(){if(this.validatedCode.length==0||this.validatedCode!=this.captcha_ip.value){this.ValidateOnline();
return false
}else{return true
}};
this.OnSuccess=function(){var msg=this.GetResponseText();
if(msg=="success"){this.validatedCode=this.captcha_ip.value;
if(this.captcha_ip.form.onsubmit()){this.captcha_ip.form.submit()
}}else{sfm_show_error_msg(msg,this.captcha_ip);
document.error_disp_handler.FinalShowMsg()
}};
this.ValidateOnline=function(){var url=captcha_img.src;
var postStr=this.captcha_ip.name+"="+encodeURIComponent(this.captcha_ip.value)+"&fg_validate_captcha=y";
this.Init("POST",url);
this.Send(postStr)
}}FG_CaptchaValidator.prototype=new FG_Ajax();
function FG_Ajax(){var _request=null;
var _this=null;
this.Init=function(method,url){_Init();
_this=this;
switch(arguments.length){case 2:_request.open(method,url);
break;
case 3:_request.open(method,url,arguments[2]);
break
}if(arguments.length>=4){_request.open(method,url,arguments[2],arguments[3])
}this.SetRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8")
};
this.SetRequestHeader=function(field,value){if(_request){_request.setRequestHeader(field,value)
}};
this.Send=function(data){if(_request){_request.send(data)
}};
this.GetResponseText=function(){return(_request)?_request.responseText:null
};
this.OnSuccess=function(){};
this.OnFailure=function(){};
function _OnSuccess(){_this.OnSuccess()
}function _OnFailure(){_this.OnFailure()
}function _Init(){_request=_GetXmlHttpRequestObject();
if(_request){_request.onreadystatechange=_StateHandler
}}function _StateHandler(){if(4==_request.readyState){if(_request.status==200){_OnSuccess()
}else{_OnFailure()
}}}function _GetXmlHttpRequestObject(){if(window.XMLHttpRequest){return new XMLHttpRequest()
}else{if(window.ActiveXObject){return new ActiveXObject("Microsoft.XMLHTTP")
}else{return null
}}}}(function(window,document){var version="3.6.2pre";
var options=window.html5||{};
var reSkip=/^<|^(?:button|map|select|textarea|object|iframe|option|optgroup)$/i;
var saveClones=/^(?:a|b|code|div|fieldset|h1|h2|h3|h4|h5|h6|i|label|li|ol|p|q|span|strong|style|table|tbody|td|th|tr|ul)$/i;
var supportsHtml5Styles;
var expando="_html5shiv";
var expanID=0;
var expandoData={};
var supportsUnknownElements;
(function(){try{var a=document.createElement("a");
a.innerHTML="<xyz></xyz>";
supportsHtml5Styles=("hidden" in a);
supportsUnknownElements=a.childNodes.length==1||(function(){(document.createElement)("a");
var frag=document.createDocumentFragment();
return(typeof frag.cloneNode=="undefined"||typeof frag.createDocumentFragment=="undefined"||typeof frag.createElement=="undefined")
}())
}catch(e){supportsHtml5Styles=true;
supportsUnknownElements=true
}}());
function addStyleSheet(ownerDocument,cssText){var p=ownerDocument.createElement("p"),parent=ownerDocument.getElementsByTagName("head")[0]||ownerDocument.documentElement;
p.innerHTML="x<style>"+cssText+"</style>";
return parent.insertBefore(p.lastChild,parent.firstChild)
}function getElements(){var elements=html5.elements;
return typeof elements=="string"?elements.split(" "):elements
}function getExpandoData(ownerDocument){var data=expandoData[ownerDocument[expando]];
if(!data){data={};
expanID++;
ownerDocument[expando]=expanID;
expandoData[expanID]=data
}return data
}function createElement(nodeName,ownerDocument,data){if(!ownerDocument){ownerDocument=document
}if(supportsUnknownElements){return ownerDocument.createElement(nodeName)
}if(!data){data=getExpandoData(ownerDocument)
}var node;
if(data.cache[nodeName]){node=data.cache[nodeName].cloneNode()
}else{if(saveClones.test(nodeName)){node=(data.cache[nodeName]=data.createElem(nodeName)).cloneNode()
}else{node=data.createElem(nodeName)
}}return node.canHaveChildren&&!reSkip.test(nodeName)?data.frag.appendChild(node):node
}function createDocumentFragment(ownerDocument,data){if(!ownerDocument){ownerDocument=document
}if(supportsUnknownElements){return ownerDocument.createDocumentFragment()
}data=data||getExpandoData(ownerDocument);
var clone=data.frag.cloneNode(),i=0,elems=getElements(),l=elems.length;
for(;
i<l;
i++){clone.createElement(elems[i])
}return clone
}function shivMethods(ownerDocument,data){if(!data.cache){data.cache={};
data.createElem=ownerDocument.createElement;
data.createFrag=ownerDocument.createDocumentFragment;
data.frag=data.createFrag()
}ownerDocument.createElement=function(nodeName){if(!html5.shivMethods){return data.createElem(nodeName)
}return createElement(nodeName,ownerDocument,data)
};
ownerDocument.createDocumentFragment=Function("h,f","return function(){var n=f.cloneNode(),c=n.createElement;h.shivMethods&&("+getElements().join().replace(/\w+/g,function(nodeName){data.createElem(nodeName);
data.frag.createElement(nodeName);
return'c("'+nodeName+'")'
})+");return n}")(html5,data.frag)
}function shivDocument(ownerDocument){if(!ownerDocument){ownerDocument=document
}var data=getExpandoData(ownerDocument);
if(html5.shivCSS&&!supportsHtml5Styles&&!data.hasCSS){data.hasCSS=!!addStyleSheet(ownerDocument,"article,aside,figcaption,figure,footer,header,hgroup,nav,section{display:block}mark{background:#FF0;color:#000}")
}if(!supportsUnknownElements){shivMethods(ownerDocument,data)
}return ownerDocument
}var html5={elements:options.elements||"abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup mark meter nav output progress section summary time video",version:version,shivCSS:(options.shivCSS!==false),supportsUnknownElements:supportsUnknownElements,shivMethods:(options.shivMethods!==false),type:"default",shivDocument:shivDocument,createElement:createElement,createDocumentFragment:createDocumentFragment};
window.html5=html5;
shivDocument(document)
}(this,document));
var DetectZoom={mediaQueryBinarySearch:function(property,unit,a,b,maxIter,epsilon){var matchMedia;
var head,style,div;
if(window.matchMedia){matchMedia=window.matchMedia
}else{head=document.getElementsByTagName("head")[0];
style=document.createElement("style");
div=document.createElement("div");
div.className="mediaQueryBinarySearch";
head.appendChild(style);
div.style.display="none";
document.body.appendChild(div);
matchMedia=function(query){style.sheet.insertRule("@media "+query+"{.mediaQueryBinarySearch {text-decoration: underline} }",0);
var matched=getComputedStyle(div,null).textDecoration=="underline";
style.sheet.deleteRule(0);
return{matches:matched}
}}var r=binarySearch(a,b,maxIter);
if(div){head.removeChild(style);
document.body.removeChild(div)
}return r;
function binarySearch(a,b,maxIter){var mid=(a+b)/2;
if(maxIter==0||b-a<epsilon){return mid
}var query="("+property+":"+mid+unit+")";
if(matchMedia(query).matches){return binarySearch(mid,b,maxIter-1)
}else{return binarySearch(a,mid,maxIter-1)
}}},_zoomIe7:function(){var rect=document.body.getBoundingClientRect();
var z=(rect.right-rect.left)/document.body.offsetWidth;
z=Math.round(z*100)/100;
return{zoom:z,devicePxPerCssPx:z}
},_zoomIe8:function(){var zoom=screen.deviceXDPI/screen.logicalXDPI;
return{zoom:zoom,devicePxPerCssPx:zoom}
},_zoomWebkitMobile:function(){var devicePixelRatio=window.devicePixelRatio!=null?window.devicePixelRatio:1,deviceWidth;
if(Math.abs(window.orientation)==90){deviceWidth=screen.height
}else{deviceWidth=screen.width
}var z=deviceWidth/window.innerWidth;
return{zoom:z,devicePxPerCssPx:z*devicePixelRatio}
},_zoomWebkit:function(){var devicePixelRatio=window.devicePixelRatio!=null?window.devicePixelRatio:1;
var container=document.createElement("div"),div=document.createElement("div");
var important=function(str){return str.replace(/;/g," !important;")
};
container.setAttribute("style",important("width:0; height:0; overflow:hidden; visibility:hidden; position: absolute;"));
div.innerHTML="1<br>2<br>3<br>4<br>5<br>6<br>7<br>8<br>9<br>0";
div.setAttribute("style",important("font: 100px/1em sans-serif; -webkit-text-size-adjust: none; height: auto; width: 1em; padding: 0; overflow: visible;"));
container.appendChild(div);
document.body.appendChild(container);
var z=1000/div.clientHeight;
z=Math.round(z*100)/100;
var r={zoom:z,devicePxPerCssPx:devicePixelRatio*z};
document.body.removeChild(container);
return r
},_zoomFF35:function(){var z=screen.width/this.mediaQueryBinarySearch("min-device-width","px",0,6000,20,0.0001);
z=Math.round(z*100)/100;
return{zoom:z,devicePxPerCssPx:z}
},_zoomFF36:function(){var container=document.createElement("div"),outerDiv=document.createElement("div");
container.setAttribute("style","width:0; height:0; overflow:hidden;visibility:hidden; position: absolute");
outerDiv.style.width=outerDiv.style.height="500px";
var div=outerDiv;
for(var i=0;
i<10;
++i){var child=document.createElement("div");
child.style.overflowY="scroll";
div.appendChild(child);
div=child
}container.appendChild(outerDiv);
document.body.appendChild(container);
var outerDivWidth=outerDiv.clientWidth;
var innerDivWidth=div.clientWidth;
var scrollbarWidthCss=(outerDivWidth-innerDivWidth)/10;
document.body.removeChild(container);
var scrollbarWidthDevice=15;
if(-1!=navigator.platform.indexOf("Win")){scrollbarWidthDevice=17
}var z=scrollbarWidthDevice/scrollbarWidthCss;
z=Math.round(z*100)/100;
return{zoom:z,devicePxPerCssPx:z}
},_zoomFF4:function(){var z=this.mediaQueryBinarySearch("min--moz-device-pixel-ratio","",0,10,20,0.0001);
z=Math.round(z*100)/100;
return{zoom:z,devicePxPerCssPx:z}
},_zoomOperaOlder:function(){var fixedDiv=document.createElement("div");
fixedDiv.style.position="fixed";
fixedDiv.style.width="100%";
fixedDiv.style.height="100%";
fixedDiv.style.top=fixedDiv.style.left="0";
fixedDiv.style.visibility="hidden";
document.body.appendChild(fixedDiv);
var z=window.innerWidth/fixedDiv.offsetWidth;
document.body.removeChild(fixedDiv);
return{zoom:z,devicePxPerCssPx:z}
},_zoomOpera11:function(){var z=window.outerWidth/window.innerWidth;
z=Math.round(z*100)/100;
return{zoom:z,devicePxPerCssPx:z}
},ratios:function(){var r;
if(!isNaN(screen.logicalXDPI)&&!isNaN(screen.systemXDPI)){return this._zoomIe8()
}else{if("ontouchstart" in window&&document.body.style.webkitTextSizeAdjust!=null){return this._zoomWebkitMobile()
}else{if(document.body.style.webkitTextSizeAdjust!=null){return this._zoomWebkit()
}else{if(-1!=navigator.userAgent.indexOf("Firefox/3.5")){return this._zoomFF35()
}else{if(-1!=navigator.userAgent.indexOf("Firefox/3.6")){return this._zoomFF36()
}else{if(-1!=navigator.appVersion.indexOf("MSIE 7.")){return this._zoomIe7()
}else{if(-1!=navigator.userAgent.indexOf("Opera")){var versionIdx=navigator.userAgent.indexOf("Version/");
if(11.01<parseFloat(navigator.userAgent.substr(versionIdx+8))){return this._zoomOpera11()
}else{return this._zoomOperaOlder()
}}else{if(0.001<(r=this._zoomFF4()).zoom){return r
}else{return{zoom:1,devicePxPerCssPx:1}
}}}}}}}}},zoom:function(){return this.ratios().zoom
},device:function(){return this.ratios().devicePxPerCssPx
}};